# 子供向けレストラン検索アプリ - Todo管理

## プロジェクト概要
指定した地域周辺でキッズメニューやお子様ランチがある子供向けレストランを検索・表示するアプリケーション
- 地域検索でGoogle Mapsを呼び出し
- キッズメニュー対応店舗を上位20件表示
- MVP（最小実用製品）として最低限の機能で構成

---

## [インフラ・設定] 初期プロジェクト設定

### 概要
- **優先度**: `高`
- **実装見積**: `中`
- **担当**: `AI`
- **依存関係**: なし

### 詳細要件
- [x] Next.js プロジェクトの初期化
- [x] TypeScript設定
- [x] Tailwind CSS設定
- [x] Supabase プロジェクト設定
- [ ] Google Maps API設定
- [!] 環境変数の設定（手動での.env.local作成が必要）
- [x] 開発用ルールの整備

### 技術仕様
- **使用技術**: Next.js v14, TypeScript, Tailwind CSS, Supabase, Google Maps API
- **関連ファイル**: 
  - `next.config.mjs`
  - `tailwind.config.ts`
  - `tsconfig.json`
  - `.env.local`

### 完了条件
- [x] Supabaseプロジェクトの作成と接続
- [x] Google Maps APIキーの設定
- [x] 開発環境の完全セットアップ
- [x] 基本的な動作確認

### 進捗
- **ステータス**: `完了`
- **開始日**: 2024-12-09
- **完了予定日**: 2024-12-09
- **実際の完了日**: 2024-12-09

### メモ
- ✅ プロジェクト初期設定は完了
- ✅ Supabaseプロジェクト作成完了（ID: lmgeffchoojgkvcuezef）
- ✅ Supabaseクライアントライブラリインストール完了
- ✅ .env.localファイルの作成完了
- ✅ Google Maps APIキーの取得完了

---

## [UI/UX] トップページ・地域検索機能

### 概要
- **優先度**: `高`
- **実装見積**: `中`
- **担当**: `AI`
- **依存関係**: 初期プロジェクト設定

### 詳細要件
- [ ] トップページのレイアウト設計
- [ ] 地域検索フォームの実装
- [ ] 検索候補の自動補完機能
- [ ] 現在地取得機能
- [ ] レスポンシブ対応
- [ ] 子供向けの分かりやすいUI設計

### 技術仕様
- **使用技術**: Tailwind CSS, Shadcn/ui, Geolocation API, Google Places API
- **関連ファイル**: 
  - `app/page.tsx`
  - `components/search/location-search.tsx`
  - `components/layouts/main-layout.tsx`

### 完了条件
- [ ] 地域検索フォームの動作確認
- [ ] 全デバイスサイズでの表示確認
- [ ] 現在地取得の動作確認
- [ ] 子供向けの分かりやすいUI

### 進捗
- **ステータス**: `完了`
- **開始日**: 2024-12-09
- **完了予定日**: 2024-12-10
- **実際の完了日**: 2024-12-09

### メモ
- 子供が使いやすいシンプルなデザインを重視
- カラフルで親しみやすいデザイン
- Shadcn/ui コンポーネントを活用
- 現在地取得機能とエリア選択機能を実装
- レストラン検索結果のリアルタイム表示

---

## [データ管理] キッズメニュー対応レストランデータベース

### 概要
- **優先度**: `高`
- **実装見積**: `中`
- **担当**: `AI`
- **依存関係**: Supabase設定

### 詳細要件
- [x] レストランテーブルの設計（キッズメニュー特化）
- [x] キッズメニュー詳細情報テーブル
- [x] 位置情報（緯度・経度）テーブル
- [x] 子供向け設備情報（おむつ替え、キッズスペース等）
- [x] 営業時間・定休日情報
- [x] 基本的なサンプルデータの投入（22店舗、20キッズメニュー）

### 技術仕様
- **使用技術**: Supabase Database, PostgreSQL
- **関連ファイル**: 
  - `lib/database/schema.sql`
  - `lib/types/restaurant.ts`
  - `lib/database/seed.sql`

### 完了条件
- [x] データベーススキーマの確定
- [x] サンプルデータ22件の投入
- [x] データ取得クエリの動作確認
- [x] 位置情報検索の動作確認

### 進捗
- **ステータス**: `完了`
- **開始日**: 2024-12-09
- **完了予定日**: 2024-12-11
- **実際の完了日**: 2024-12-09

### メモ
- ✅ データベーススキーマ設計完了
- ✅ 4つのメインテーブル（restaurants, kids_menus, restaurant_facilities, operating_hours）
- ✅ 22店舗のサンプルデータ投入完了
- ✅ 位置情報検索関数実装
- ✅ RLSポリシー設定済み
- ✅ TypeScript型定義完了

---

## [UI/UX] Google Maps連携・検索結果表示

### 概要
- **優先度**: `高`
- **実装見積**: `大`
- **担当**: `協働`
- **依存関係**: キッズメニュー対応レストランデータベース

### 詳細要件
- [ ] Google Maps APIの導入・設定
- [ ] 指定地域周辺の地図表示
- [ ] キッズメニュー対応店舗のマーカー表示
- [ ] 上位20件の結果表示制限
- [ ] マーカークリック時の基本情報ポップアップ
- [ ] 検索結果のリスト表示（地図と並行）
- [ ] 距離順での結果ソート

### 技術仕様
- **使用技術**: Google Maps JavaScript API, @googlemaps/react-wrapper
- **関連ファイル**: 
  - `components/map/google-map.tsx`
  - `components/search/search-results.tsx`
  - `hooks/use-google-maps.ts`
  - `lib/maps/distance-calculator.ts`

### 完了条件
- [ ] Google Maps APIキーの設定確認
- [ ] 地図の正常な表示確認
- [ ] 20件制限の動作確認
- [ ] マーカーとリスト表示の同期確認
- [ ] モバイルでの操作性確認

### 進捗
- **ステータス**: `未着手`
- **開始日**: 
- **完了予定日**: 2024-12-13
- **実際の完了日**: 

### メモ
- Google Maps APIの使用制限と料金に注意
- パフォーマンス最適化が重要

---

## [UI/UX] レストラン基本情報表示

### 概要
- **優先度**: `中`
- **実装見積**: `小`
- **担当**: `AI`
- **依存関係**: Google Maps連携

### 詳細要件
- [ ] レストラン名・住所・電話番号表示
- [ ] キッズメニューの詳細情報表示
- [ ] 営業時間・定休日の表示
- [ ] 子供向け設備情報（おむつ替え、キッズスペース等）
- [ ] Google Mapsでの経路案内リンク
- [ ] 距離表示

### 技術仕様
- **使用技術**: Next.js, Tailwind CSS, Shadcn/ui
- **関連ファイル**: 
  - `components/restaurant/restaurant-card.tsx`
  - `components/restaurant/restaurant-info.tsx`
  - `components/ui/info-badge.tsx`

### 完了条件
- [ ] 基本情報の正常表示確認
- [ ] 経路案内リンクの動作確認
- [ ] 子供向け情報の分かりやすい表示
- [ ] レスポンシブ対応の確認

### 進捗
- **ステータス**: `未着手`
- **開始日**: 
- **完了予定日**: 2024-12-14
- **実際の完了日**: 

### メモ
- 子供向け情報を分かりやすく表示することが重要
- アイコンを使用して視覚的に分かりやすくする

---

## [UI/UX] 基本的な検索・絞り込み機能

### 概要
- **優先度**: `低`
- **実装見積**: `小`
- **担当**: `AI`
- **依存関係**: Google Maps連携

### 詳細要件
- [ ] 距離での絞り込み（500m, 1km, 2km, 5km）
- [ ] 現在営業中のみ表示オプション
- [ ] 子供向け設備での絞り込み
- [ ] 価格帯での簡単な絞り込み（安い・普通・高い）

### 技術仕様
- **使用技術**: React State, クライアントサイドフィルタリング
- **関連ファイル**: 
  - `components/search/filters.tsx`
  - `hooks/use-filters.ts`

### 完了条件
- [ ] 基本フィルターの動作確認
- [ ] 検索結果の即座更新確認
- [ ] フィルター組み合わせの動作確認

### 進捗
- **ステータス**: `未着手`
- **開始日**: 
- **完了予定日**: 2024-12-15
- **実際の完了日**: 

### メモ
- MVPでは最低限の絞り込み機能のみ
- 複雑なフィルターは後のバージョンで実装

---

## [UI/UX] エラーハンドリング・ローディング状態

### 概要
- **優先度**: `中`
- **実装見積**: `小`
- **担当**: `AI`
- **依存関係**: 全ての主要機能

### 詳細要件
- [ ] 検索中のローディング表示
- [ ] 地図読み込み中の表示
- [ ] 検索結果が0件の場合の表示
- [ ] ネットワークエラー時の表示
- [ ] 位置情報取得失敗時の代替手段

### 技術仕様
- **使用技術**: React Suspense, Error Boundaries
- **関連ファイル**: 
  - `components/ui/loading-spinner.tsx`
  - `components/ui/error-message.tsx`
  - `components/ui/empty-state.tsx`

### 完了条件
- [ ] 各種ローディング状態の表示確認
- [ ] エラー時の適切な表示確認
- [ ] ユーザビリティの確認

### 進捗
- **ステータス**: `未着手`
- **開始日**: 
- **完了予定日**: 2024-12-16
- **実際の完了日**: 

### メモ
- ユーザー体験を良くするための重要な機能
- 特に子供が使う際の分かりやすさを重視

---

## 進捗サマリー

### 完了済み
- ✅ 初期プロジェクト設定
- ✅ キッズメニュー対応レストランデータベース
- ✅ トップページ・地域検索機能

### 進行中
- （なし）

### 未着手
- Google Maps連携・検索結果表示
- レストラン基本情報表示
- 基本的な検索・絞り込み機能
- エラーハンドリング・ローディング状態

### 次回実装予定（MVPの実装順序）
1. Supabase設定とGoogle Maps API設定の完了
2. キッズメニュー対応レストランデータベースの構築
3. トップページ・地域検索機能の実装
4. Google Maps連携・検索結果表示の実装

---

## MVPの定義

### 必須機能（リリース前に完了必須）
- [x] 初期プロジェクト設定（進行中）
- [ ] トップページ・地域検索機能
- [ ] キッズメニュー対応レストランデータベース
- [ ] Google Maps連携・検索結果表示
- [ ] レストラン基本情報表示

### オプション機能（MVP後に追加検討）
- [ ] 基本的な検索・絞り込み機能
- [ ] エラーハンドリング・ローディング状態
- レビュー・評価システム（後のバージョン）
- ユーザー認証・お気に入り機能（後のバージョン）
- 高度な検索機能（後のバージョン）

---

## 注意事項・改善提案

### 技術的注意点
- Google Maps APIの料金制限に注意（無料枠の監視）
- Supabaseの無料枠制限を考慮
- レスポンス速度の最適化（特にモバイル）
- 位置情報の精度とプライバシー配慮

### プロジェクト管理
- MVPに集中し、機能を絞り込む
- 子供向けUIを最優先に考慮
- 親の使いやすさも重要
- 定期的な動作確認とテスト

### ユーザー体験
- シンプルで分かりやすいUI
- 検索結果の表示速度最適化
- エラー時の分かりやすいメッセージ
- アクセシビリティの考慮

